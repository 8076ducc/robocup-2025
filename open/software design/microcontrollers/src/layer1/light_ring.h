#ifndef LIGHT_RING_H
#define LIGHT_RING_H

#include "main.h"

class LightRing
{
public:
    void setup();
    void calibrate();
    void printThresholds();
    void read();

    int line_start_ldr;
    int line_end_ldr;

    int ldr_readings[32];

    int ldr_min_readings[32];
    int ldr_max_readings[32];

#ifdef BOT_A

const int ldr_thresholds[32] = {
    2087, // 0
    2181, // 1
    2173, // 2
    2182, // 3
    2252, // 4
    2236, // 5
    2241, // 6
    2268, // 7
    2172, // 8
    2212, // 9
    2250, // 10
    2284, // 11
    2328, // 12
    2255, // 13
    2308, // 14
    2314, // 15
    2127, // 16
    2058, // 17
    2072, // 18
    2033, // 19
    2082, // 20
    2043, // 21
    2064, // 22
    2110, // 23
    2143, // 24
    2100, // 25
    2103, // 26
    2093, // 27
    2050, // 28
    2075, // 29
    2075, // 30
    2090, // 31
};

#else

const int ldr_thresholds[32] = {
    2079, // 0
    2288, // 1
    2370, // 2
    2297, // 3
    2324, // 4
    2235, // 5
    2369, // 6
    2312, // 7
    2236, // 8
    2223, // 9
    2317, // 10
    2163, // 11
    2223, // 12
    2217, // 13
    2314, // 14
    2214, // 15
    2103, // 16
    2077, // 17
    2084, // 18
    2099, // 19
    2073, // 20
    2057, // 21
    2076, // 22
    2075, // 23
    2124, // 24
    2045, // 25
    2065, // 26
    2060, // 27
    2160, // 28
    2086, // 29
    2066, // 30
    2050, // 31
};

#endif

    const int mux_signals[16][4] = {
        {0, 0, 0, 0}, // 0
        {1, 0, 0, 0}, // 1
        {0, 1, 0, 0}, // 2
        {1, 1, 0, 0}, // 3
        {0, 0, 1, 0}, // 4
        {1, 0, 1, 0}, // 5
        {0, 1, 1, 0}, // 6
        {1, 1, 1, 0}, // 7
        {0, 0, 0, 1}, // 8
        {1, 0, 0, 1}, // 9
        {0, 1, 0, 1}, // 10
        {1, 1, 0, 1}, // 11
        {0, 0, 1, 1}, // 12
        {1, 0, 1, 1}, // 13
        {0, 1, 1, 1}, // 14
        {1, 1, 1, 1}  // 15
    };
};

const double ldr_angle = 11.25;

#endif